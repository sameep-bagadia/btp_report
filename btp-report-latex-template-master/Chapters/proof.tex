\chapter{Proof of correctness and optimality}

\section{Correctness}
We need to prove that a source-sink pair can never lie in the same partition. We prove this by contradiction. \\

Suppose there exists a source u and sink v that lie in the same partition P(A,B).
Let the dependence distance between them be d.\\
Thus $v = u + d$\\
Consider $d' \preceq d$ and $d' \in D$\\

Lemma 1: There always exists such d'\\

\noindent Let $ v' = u + d'$\\
Thus, u, v' is another source-sink pair\\

Lemma 2: If $u, v \in P(A,B)$  then $u , v' \in P(A,B)$.\\

\noindent As, $u, v' \in P(A,B), \exists a \in A, a \preceq u$ \\
By the method in which partitions are created, \\
$\exists b \in B, b \preceq a + d'$ \\
$a \preceq u$ \\
$ \Rightarrow a + d' \preceq u + d'$ \\
$\Rightarrow b \preceq a + d' \preceq v'$ \\
$\Rightarrow b \preceq v'$ \\
Thus it implies v does not belong to P(A,B) which is a contradiction. \\

Thus, our assumption is false. Therefore there does not exist any source-sink pair belonging to same partition.\\

\subsection{Proof of Lemma 1}
If $d \in D$ then $d = d'$\\
else as d was removed from the set of dependence distances, there must exist another dependence distance in D dominating d. Let that be d' \\


\subsection{Proof of Lemma 2}
$u,v \in P(A,B)$ \\
$\Rightarrow \exists a \in A , a \preceq u$ \\
$ \Rightarrow a \preceq u \preceq v'$ \\
$ \Rightarrow a \preceq v' $ \\

Suppose $v' \notin P(A,B)$. \\
$ \Rightarrow \exists b \in B, b \preceq v'$ \\
$ d' \preceq d $ \\
$ \Rightarrow d' + u \preceq d + u $ \\
$ \Rightarrow v' \preceq v$ \\
$ (b \preceq v'$ and $v' \preceq v) \Rightarrow b \preceq v$ \\ 
$ \Rightarrow v \notin P(A, B)$ \\
Therefore our assumption is false. \\
$v' \in P(A,B)$ \\

\section{Optimality}
We need to prove that even if a single iteration point from a partition is added to its previous partition, it will lead to at least one source-sink pair belonging to same partition. \\

Suppose the partitions we created are not optimal. 
Therefore there exists a point y which is in the next partition of P(A,B) which can be added to P(A,B). i.e y has no source in P(A,B). \\

\noindent $y \notin P(A,B) \Rightarrow  \exists b \in B, b \preceq y$ \\
By the method in which partitions are created, \\
$ \exists d \in D$ and $a \in A, a + d = b$ \\
Let $x = y - d$ \\
$ b \preceq y \Rightarrow b - d \preceq y - d$ \\
$ \Rightarrow a \preceq x$ \\
This means that $x \in P(A,B)$ \\
x and y form a source-sink pair. Therefore there is a source of y in P(A,B).
Therefore our assumption is false. \\

Thus partitions created are optimal.\\